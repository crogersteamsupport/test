<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>

    <!-- HANDLEBARS. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.runtime.js"></script>
    <script src="/frontend/library/handlebars.js" type="text/javascript"></script>
    <script src="/frontend/handlebars/ticket.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../Css/jquery-ui-bs3.min.css" rel="stylesheet" type="text/css" />
    <link href="../Css/bootstrap3.css" rel="stylesheet" type="text/css" />
    <link href="../Css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="../Css/tsbs.css" rel="stylesheet" type="text/css" />
    <link href="../Css/bootstrap-datetimepicker.css" rel="stylesheet" type="text/css">
    <link href="../Css/selectize.bootstrap3.css" rel="stylesheet" />
    <link href="../Css/jquery.cluetip.css" rel="stylesheet" type="text/css" />
    <link href="../Css/ts.editor.css" rel="stylesheet" />
    <link href="../Css/prism.css" rel="stylesheet" />
    <!--[if IE]><link href="../Css/tsbs-ie.css" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="../Css/summernote/summernote.css" rel="stylesheet" />
    <link href="../Css/tipTip.css" rel="stylesheet" type="text/css" />
    <link href="TicketV2.css" rel="stylesheet" type="text/css" />



    <!--<script src="../Js/deployJava.js"  type="text/javascript"></script>-->
    <script src="../Js/Ts/ts.pendo.js"></script>
    <script src="../Js/browser.js" type="text/javascript"></script>
    <script src="../Js/jquery-latest.min.js" type="text/javascript"></script>
    <script src="../Js/jquery-ui-latest.custom.min.js" type="text/javascript"></script>
    <script src="../Js/jquery.placeholder.js" type="text/javascript"></script>
    <script src="../Js/bootstrap3.min.js" type="text/javascript"></script>
    <script src="../Js/moment.min.js" type="text/javascript"></script>
    <script src="../Js/bootstrap-datetimepicker.min.js"></script>
    <script src="../Js/respond.js" type="text/javascript"></script>

    <script src="../Js/jquery.cluetip.js" type="text/javascript"></script>
    <script src="../Js/Ts/ts.ui.hovers.js"></script>
    <script src="../Js/jquery.fileupload.js" type="text/javascript"></script>
    <script src="../../../tinymce/tinymce.min.js" type="text/javascript"></script>
    <script src="../../../tinymce/jquery.tinymce.min.js" type="text/javascript"></script>
    <script src="../Js/selectize.min.js"></script>
    <script src="TicketV2.js" type="text/javascript"></script>
    <script src="../Js/Ts/ts.editor.js"></script>
    <script src="../Js/jquery.numeric.js" type="text/javascript"></script>
    <script src="../Js/jquery.maskedinput.min.js" type="text/javascript"></script>
    <script src="../Js/ZeroClipboard/ZeroClipboard.min.js" type="text/javascript"></script>
    <script src="//static.opentok.com/v2/js/opentok.min.js"></script>
    <script src="../Js/jquery.data-selector.js" type="text/javascript"></script>
    <!--<link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.1/summernote.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.1/summernote.js"></script>-->
    <script src="../Js/summernote.min.js"></script>
    <script src="TicketWidget.js"></script>

    <script src="../Js/jquery.tipTip.minified.js" type="text/javascript"></script>
    <script src="../Js/Ts/ts.editor.summernote.js"></script>
    <script src="../../../tinymce/plugins/moxiemanager/js/moxman.loader.min.js"></script>
</head>
<body>
    <div class="ts-loading page-loading">
    </div>
    <div class="frame-container" style="display:none; padding-top:54px; padding-bottom:54px;">
        <div class="container">
            <div class="row ticket-toolbar-row" style="top:0;">
                <div class="col-sm-12">
                    <div class="btn-group ticket-toolbar" role="group" aria-label="...">
                        <button id="Ticket-Owner" class="btn btn-default ticket-option" type="button">
                            <i class="fa fa-anchor"></i> Take Ownership
                        </button>
                        <button id="Ticket-GetUpdate" class="btn btn-default ticket-option" type="button">
                            <i class="fa fa-bullhorn"></i> Request Update
                        </button>
                        <button id="Ticket-Merge" class="btn btn-default ticket-option" title="" type="button" data-toggle="modal" data-target="#MergeModal">
                            <i class="fa fa-exchange"></i> Merge
                        </button>
                    </div>
                    <div class="btn-group ticket-toolbar" role="group" aria-label="...">
                        <button id="Ticket-Refresh" class="btn btn-default ticket-option" title="" type="button" data-toggle="tooltip" data-original-title="Refresh Ticket Page">
                            <i class="fa fa-refresh"></i>
                        </button>
                        <button id="Ticket-Read" class="btn btn-default ticket-option" type="button" data-toggle="tooltip" data-original-title="Mark Ticket as UnRead">
                            <i class="fa fa-circle"></i>
                        </button>
                        <button id="Ticket-Subscribe" class="btn btn-default ticket-option" title="" type="button" data-toggle="tooltip" data-original-title="Subscribe to Ticket">
                            <i class="fa fa-rss"></i>
                        </button>
                        <button id="Ticket-Queue" class="btn btn-default ticket-option" title="" type="button" data-toggle="tooltip" data-original-title="Add to your Ticket Queue">
                            <i class="fa fa-list-ol"></i>
                        </button>
                        <button id="Ticket-Flag" class="btn btn-default ticket-option" title="" type="button" data-toggle="tooltip" data-original-title="Flag Ticket">
                            <i class="fa fa-flag"></i>
                        </button>
                    </div>
                    <div class="btn-group ticket-toolbar" role="group" aria-label="...">
                        <button type="button" class="btn btn-default ticket-option dropdown-toggle" data-toggle="dropdown">More&nbsp;<span class="caret"></span></button>
                        <ul class="dropdown-menu ticket-menu-actions" role="menu">
                            <li><a id="Ticket-History">History</a></li>
                            <li><a id="Ticket-Print">Print</a></li>
                            <li><a data-toggle="modal" data-target="#EmailModal">Email Ticket</a></li>
                            <li><a id="Ticket-URL" data-clipboard-text="">URL</a></li>
                            <li><a data-toggle="modal" data-target="#CloneModal">Clone</a></li>
                        </ul>
                    </div>
                    <div class="" style="display: inline; position: fixed; top: 33px; right: 15px;">
                        <div class="ticket-source"></div>
                        <label id="ticket-number"></label>
                    </div>
                    <div class="btn-group ticket-toolbar pull-right" role="group" aria-label="...">
                        <div class="ticket-badge pull-left">
                            <div class="bgcolor-green filter-public"><a data-visible="true" href="#" class="ticket-filter-public">Public</a></div>
                        </div>
                        <div class="ticket-badge pull-left">
                            <div class="bgcolor-orange filter-private"><a data-visible="true" href="#" class="ticket-filter-private">Private</a></div>
                        </div>
                        <div class="ticket-badge pull-left">
                            <div class="bgcolor-blue filter-wc"><a data-visible="true" href="#" class="ticket-filter-wc">WC</a></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="ticket-content-wrapper" style="background-color: #e5e5e5; padding-top: 5px; ">
                    <div class="ticket-timeline">
                        <div id="ticket-now-viewing" class="panel panel-default" style="display:none; margin-bottom:5px;">
                            <p class="text-muted" style="margin:5px;">Chat With Others Viewing: <span id="ticket-viewing-users"></span></p>
                        </div>
                        <ul id="action-timeline" class="timeline"></ul>
                        <div class="timeline-done"></div>
                        <div class="results-loading"><i class="fa fa-spinner fa-spin"></i></div>

                    </div>
                </div>
                <div id="ticket-properties-area" class="ticket-property-section">
                </div>
            </div>
        </div>
        <div class="maincontainerx">
            <a href="#" class="scrollup">Scroll</a>
            <div class="row">
                <div>
                    <div class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="dialog" title="Alert Message">
        <div id="modalAlertMessage"></div>
        <input type="hidden" id="alertType" />
        <input type="hidden" id="alertID" />
    </div>
    <div id="ChromeInstallModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Extension Required</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <p>An Extension is required in order for Screen Sharing to function properly. Please select your browser and install the extension. Once the installation is complete close this dialog and click the Record Screen button again.</p>
                        <p id="chromemodalbutton"><button type="button" class="btn btn-primary" onclick="top.Ts.MainPage.installChromePlugin();" id="install-button">Add to Chrome</button></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="FireFoxInstallModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Extension Required</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <p>An Extension is required in order for Screen Sharing to function properly. Please install the browser extension. Once the installation is complete you will need to refresh your browser for the installation to complete. Please save your ticket action text if any before proceeding.</p>
                        <p id="firefoxmodalbutton"><a href="../../../ScreenShare/ScreenSharing.xpi" class="btn btn-info" role="button">Add to Firefox</a></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="RemindersModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="RemindersModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="RemindersModalTitle">Add Reminder</h4>
                </div>
                <div class="modal-body">
                    <label id="reminderID" class="hidden"></label>
                    <div class="form-group">
                        <label for="ticket-reminder-title">What is the reminder about?</label>
                        <input type="text" class="form-control" id="ticket-reminder-title" placeholder="Enter Name of Event">
                    </div>
                    <div class="form-group">
                        <label for="ticket-reminder-date">When do you want to be reminded?</label>
                        <input id="ticket-reminder-date" type='text' class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="ticket-reminder-who">Who do you want to remind?</label>
                        <select id="ticket-reminder-who" class="form-control"></select>
                    </div>
                    <div id="reminder-success" class="alert alert-success" role="alert" style="display:none;">Reminder Added!</div>
                    <div id="reminder-error" class="alert alert-danger" role="alert" style="display:none;">There was an error saving your reminder.  Please try again.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button id="ticket-reminder-save" type="button" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>
    <div id="MergeModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="MergeModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="MergeModalTitle">Merge Tickets</h4>
                </div>
                <div class="modal-body">
                    <div style="border: 1px solid #fbfbfb;padding:10px;background-color: #fbfbfb;">
                        <h4>1. You have selected the "loser" of the merge</h4>
                        <p>All the actions, customers, tags, subscriptions, associations, queues, reminders and assets to this ticket will be moved to the "winner" you choose below. The "loser" will then be deleted.</p>
                    </div>

                    <div style="border: 1px solid #fbfbfb;padding:10px;background-color: #fbfbfb;">
                        <h4>2. Next choose the Ticket you want to keep the "winner"</h4>
                        <p>You can only choose one Ticket. If you'd like to merge more than two tickets together just go through the merge process again after the merge you are performing now is done.</p>
                    </div>

                    <input type="text" id="Ticket-Merge-search" class="form-control" placeholder="Search for the ticket you want to merge ..." />

                    <div class="ui-helper-hidden" id="dialog-ticketmerge-preview" style="padding-top: 10px;">
                        <div id="ticketmerge-preview-details">Here is some basic information about the ticket you have selected :</div>
                    </div>

                    <div class="ui-helper-hidden" id="dialog-ticketmerge-warning" style="padding-top:10px;">
                        <h4>3. Finally, click "OK" to merge these Tickets.</h4>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" id="dialog-ticketmerge-confirm"> I understand that I will be deleting the losing ticket, and there is no recovery from that action.
                            </label>
                        </div>
                    </div>
                    <div id="merge-success" class="alert alert-success" role="alert" style="display:none;">Merge Successfull!</div>
                    <div id="merge-error" class="alert alert-danger" role="alert" style="display:none;">There was an error merging your tickets.  Please try again.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="ticket-merge-complete" type="button" class="btn btn-primary">OK</button>
                </div>
            </div>
        </div>
    </div>
    <div id="TicketHistoryModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="TicketHistoryModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="TicketHistoryModalTitle">Ticket History</h4>
                </div>
                <div class="modal-body">
                    <table id="ticket-history-table" class="table table-hover">
                        <thead>
                            <tr>
                                <td>User</td>
                                <td>Date</td>
                                <td>Description</td>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="EmailModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="EmailModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="EmailModalTitle">Email Ticket</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="ticket-email-input">Please enter the email addresses you would like to send this ticket to. (Comma separated)</label>
                        <input type="text" class="form-control" id="ticket-email-input" placeholder="Enter Comma Seperated Email Addresses">
                    </div>
                    <div class="form-group">
                        <label for="ticket-intro-input">Introduction</label>
                        <textarea class="form-control" id="ticket-intro-input" placeholder="Introduction"></textarea>
                    </div>
                    <div id="email-success" class="alert alert-success" role="alert" style="display:none;">Your emails have been sent!</div>
                    <div id="email-error" class="alert alert-danger" role="alert" style="display:none;">There was an error sending the ticket email</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="Ticket-Email" type="button" class="btn btn-primary">Send</button>
                </div>
            </div>
        </div>
    </div>
    <div id="NewCustomerModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="NewCustomerModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="NewCustomerModalTitle">Create New Customer</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="customer-fname-input">First Name</label>
                        <input type="text" class="form-control" id="customer-fname-input" placeholder="First Name">
                    </div>
                    <div class="form-group">
                        <label for="customer-lname-input">Last Name</label>
                        <input type="text" class="form-control" id="customer-lname-input" placeholder="Last Name">
                    </div>
                    <div class="form-group">
                        <label for="customer-email-input">Email Address</label>
                        <input type="text" class="form-control" id="customer-email-input" placeholder="Email Address">
                    </div>
                    <div class="form-group">
                        <label for="customer-phone-input">Phone Number</label>
                        <input type="text" class="form-control" id="customer-phone-input" placeholder="Phone Number">
                    </div>
                    <div class="form-group">
                        <label for="customer-company-input">Company Name</label>
                        <select class="form-control" id="customer-company-input" placeholder="Company Name"></select>
                    </div>
                    <div id="customer-success" class="alert alert-success" role="alert" style="display:none;">Your customer has been created!</div>
                    <div id="customer-error" class="alert alert-danger" role="alert" style="display:none;">There was an error creating your customer.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="Customer-Create" type="button" class="btn btn-primary">Create</button>
                </div>
            </div>
        </div>
    </div>
    <div id="AssociateTicketModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="AssociateTicketModalTitle" aria-hidden="true">
        <div class="modal-dialog" style="width:400px;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="AssociateTicketModalTitle">How do you want this ticket associated?</h4>
                </div>
                <div class="modal-body">
                    <div class="center-block">
                        <button class="btn btn-default btn-block ticket-association" data-isparent="null">Related</button>
                        <button class="btn btn-default btn-block ticket-association" data-isparent="false">Parent</button>
                        <button class="btn btn-default btn-block ticket-association" data-isparent="true">Child</button>
                    </div>
                    <br />
                    <div id="associate-success" class="alert alert-success" role="alert" style="display:none;">Ticket Associated!</div>
                    <div id="associate-error" class="alert alert-danger" role="alert" style="display:none;"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="SuggestedSolutionsModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="SuggestedSolutionModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="SuggestedSolutionsModalTitle">Insert Knowledgebase</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <div class="dialog-select-ticket2" title="Select a Ticket">
                            <p>Search a ticket number or description:</p>
                            <input type="text" class="text ui-corner-all ui-widget-content" style="width:50%;" id="dialog-select-ticket2-input" />
                        </div>
                    </div>
                    <p>Or select a suggested solution:</p>
                    <iframe id="SuggestedSolutionsIFrame" class="afterSearch" src="" style="width:100%; height:350px;"></iframe>
                </div>
                <div class="modal-footer" style="margin-top: -16px">
                    <button id="InsertSuggestedSolutionsLink" type="button" class="btn btn-primary afterSearch">Insert Link</button>
                    <button id="InsertSuggestedSolutions" type="button" class="btn btn-primary afterSearch">Insert Article</button>
                    <button type="button" class="btn btn-default afterSearch" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div id="MoxieModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="MoxieModal" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <iframe src="../../tinymce/plugins/moxiemanager/" style="width:100%; height:750px;"></iframe>
                <div class="modal-footer" style="margin-top:-7px;">
                    <button type="button" class="btn btn-primary">Insert</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div id="CloneModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="CloneModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="CloneModalTitle">Clone Ticket</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <span>You are about to clone this ticket and all its properties</span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="Ticket-Clone" type="button" class="btn btn-primary">Clone</button>
                </div>
            </div>
        </div>
    </div>
    <div id="CloningModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="CloningModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="CloneModalTitle">Clone Ticket</h4>
                </div>
                <div class="modal-body cloning-inprogress">
                    <div>
                        <span>Cloning the ticket...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="ReactionsModal" class="modal fade modal-reactions" role="dialog" aria-labelledby="ReactionsModal" aria-hidden="true">
        <div class="reactions-head">
            Applause Received
            <span class="fa fa-window-close pull-right"></span>
        </div>
        <div class="reactions-list">

        </div>
    </div>

    <div class="modal fade" id="modalTaskComment">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Would you like to add a comment to complete this task?</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="comments" class="col-md-2 control-label">Comments:</label>
                            <div class="col-md-10">
                                <textarea class="col-md-12 form-control" id="taskCompleteComment" placeholder="Comment about completing this task."></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnTaskCompleteComment">Yes</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
    </div>
</body>
</html>
